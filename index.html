<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bubble Pop Mania - Milyonların Favorisi</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Türkiye'nin en bağımlılık yapan balon patlatma oyunu! Milyonlarca oyuncunun favorisi.">
    <meta name="keywords" content="oyun, balon patlatma, bubble pop, mobile game, turkish game, bağımlılık yapan oyun">
    <meta name="author" content="Eyedeu">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Bubble Pop Mania - Milyonların Favorisi">
    <meta property="og:description" content="Türkiye'nin en bağımlılık yapan balon patlatma oyunu!">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://eyedeu.github.io/bubble-pop-mania/">
    <meta property="og:image" content="icon-512.png">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Bubble Pop Mania - Milyonların Favorisi">
    <meta name="twitter:description" content="Türkiye'nin en bağımlılık yapan balon patlatma oyunu!">
    <meta name="twitter:image" content="icon-512.png">
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#3B82F6">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Bubble Pop Mania">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
    
    <!-- Mobile Optimization -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="style.css" as="style">
    <link rel="preload" href="app.js" as="script">
    
    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Ana Menü -->
    <div id="main-menu" class="screen active">
        <div class="menu-container">
            <h1 class="game-title">🫧 BUBBLE POP MANIA 🫧</h1>
            <p class="game-subtitle">Milyonlarca Oyuncunun Bağımlısı Olduğu Oyun!</p>
            
            <div class="daily-streak">
                <span class="streak-text">🔥 Günlük Seri: <span id="daily-streak">1</span> Gün</span>
            </div>
            
            <button class="btn btn--primary btn--lg" id="play-btn">🎯 OYNA</button>
            <button class="btn btn--secondary" id="shop-btn">🛒 Mağaza</button>
            <button class="btn btn--secondary" id="leaderboard-btn">🏆 Liderlik Tablosu</button>
            
            <div class="energy-container">
                <span class="energy-label">⚡ Enerji:</span>
                <div class="energy-bar">
                    <div id="energy-fill" class="energy-fill"></div>
                </div>
                <span id="energy-text">5/5</span>
                <button id="buy-energy" class="energy-buy">+</button>
            </div>
        </div>
    </div>

    <!-- Tutorial Ekranı -->
    <div id="tutorial" class="screen hidden">
        <div class="tutorial-container">
            <h2>🎮 Nasıl Oynanır?</h2>
            <div class="tutorial-steps">
                <div class="tutorial-step">
                    <span class="step-number">1</span>
                    <p>Kabarcıkları tıkla/dokun ve patlat! 🫧</p>
                </div>
                <div class="tutorial-step">
                    <span class="step-number">2</span>
                    <p>Farklı renkler farklı puanlar verir! 💎</p>
                </div>
                <div class="tutorial-step">
                    <span class="step-number">3</span>
                    <p>Combo yaparak çok daha fazla puan kazan! 🔥</p>
                </div>
            </div>
            <button class="btn btn--primary" id="start-tutorial">Başla!</button>
            <button class="btn btn--secondary" id="skip-tutorial">Atla</button>
        </div>
    </div>

    <!-- Oyun Ekranı -->
    <div id="game-screen" class="screen hidden">
        <div class="game-hud">
            <div class="hud-left">
                <div class="score">
                    <span class="score-label">Puan:</span>
                    <span id="current-score">0</span>
                </div>
                <div class="combo">
                    <span class="combo-label">Combo:</span>
                    <span id="current-combo">1x</span>
                </div>
            </div>
            
            <div class="hud-right">
                <div class="level">
                    <span class="level-label">Seviye:</span>
                    <span id="current-level">1</span>
                </div>
                <div class="lives">
                    <span class="lives-label">❤️</span>
                    <span id="current-lives">5</span>
                </div>
            </div>
        </div>

        <!-- Oyun Alanı -->
        <div id="game-area" class="game-area">
            <canvas id="game-canvas" width="400" height="600"></canvas>
        </div>

        <!-- Power-ups -->
        <div class="powerups-container">
            <button class="powerup-btn" id="freeze-btn" data-powerup="freeze">🧊 Dondur</button>
            <button class="powerup-btn" id="double-btn" data-powerup="double">2️⃣ 2x Puan</button>
            <button class="powerup-btn" id="magnet-btn" data-powerup="magnet">🧲 Mıknatıs</button>
            <button class="powerup-btn" id="auto-btn" data-powerup="auto">🤖 Otomatik</button>
        </div>

        <!-- Pause Button -->
        <button id="pause-btn" class="pause-btn">⏸️</button>
    </div>

    <!-- Pause Ekranı -->
    <div id="pause-screen" class="screen hidden overlay">
        <div class="pause-container">
            <h2>⏸️ Oyun Duraklatıldı</h2>
            <button class="btn btn--primary" id="resume-btn">Devam Et</button>
            <button class="btn btn--secondary" id="restart-btn">Yeniden Başla</button>
            <button class="btn btn--secondary" id="main-menu-btn">Ana Menü</button>
        </div>
    </div>

    <!-- Game Over Ekranı -->
    <div id="game-over" class="screen hidden overlay">
        <div class="game-over-container">
            <h2>🎯 Oyun Bitti!</h2>
            <div class="final-stats">
                <div class="stat">
                    <span class="stat-label">Final Puanı:</span>
                    <span id="final-score">0</span>
                </div>
                <div class="stat">
                    <span class="stat-label">En Yüksek Combo:</span>
                    <span id="best-combo">1x</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Seviye:</span>
                    <span id="final-level">1</span>
                </div>
            </div>
            
            <div class="continue-options">
                <button class="btn btn--primary" id="watch-ad-btn">📺 Reklam İzle - Devam Et</button>
                <button class="btn btn--secondary" id="play-again-btn">🔄 Tekrar Oyna</button>
                <button class="btn btn--tertiary" id="share-score-btn">📱 Puanı Paylaş</button>
            </div>
        </div>
    </div>

    <!-- Achievement Notification -->
    <div id="achievement-notification" class="achievement-notification hidden">
        <div class="achievement-content">
            <span class="achievement-icon">🏆</span>
            <div class="achievement-text">
                <div class="achievement-title">Başarı Kazanıldı!</div>
                <div class="achievement-description" id="achievement-desc"></div>
            </div>
            <span class="achievement-reward" id="achievement-reward">+100</span>
        </div>
    </div>

    <!-- Mağaza Ekranı -->
    <div id="shop-screen" class="screen hidden overlay">
        <div class="shop-container">
            <h2>🛒 Mağaza</h2>
            <div class="shop-tabs">
                <button class="shop-tab active" data-tab="powerups">Güç Arttırıcılar</button>
                <button class="shop-tab" data-tab="premium">Premium</button>
            </div>
            
            <div class="shop-content" id="powerups-tab">
                <div class="shop-item">
                    <div class="item-info">
                        <span class="item-icon">🧊</span>
                        <div class="item-details">
                            <h3>Dondur</h3>
                            <p>5 saniye kabarcıkları dondurur</p>
                        </div>
                    </div>
                    <button class="buy-btn" data-item="freeze" data-cost="50">50 💰</button>
                </div>
                
                <div class="shop-item">
                    <div class="item-info">
                        <span class="item-icon">2️⃣</span>
                        <div class="item-details">
                            <h3>Çift Puan</h3>
                            <p>10 saniye 2x puan kazanırsın</p>
                        </div>
                    </div>
                    <button class="buy-btn" data-item="double" data-cost="30">30 💰</button>
                </div>
            </div>
            
            <button class="btn btn--secondary close-shop">Kapat</button>
        </div>
    </div>

    <!-- Liderlik Tablosu -->
    <div id="leaderboard-screen" class="screen hidden overlay">
        <div class="leaderboard-container">
            <h2>🏆 Liderlik Tablosu</h2>
            <div class="leaderboard-list" id="leaderboard-list">
                <!-- JavaScript ile doldurulacak -->
            </div>
            <button class="btn btn--secondary close-leaderboard">Kapat</button>
        </div>
    </div>

    <!-- Loading Ekranı -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-logo">🫧</div>
            <div class="loading-text">Bubble Pop Mania</div>
            <div class="loading-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="loading-progress-fill"></div>
                </div>
                <div class="loading-percentage" id="loading-percentage">0%</div>
            </div>
            <div class="loading-tip" id="loading-tip">İpucu: Combo yaparak daha fazla puan kazan!</div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="app.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('./service-worker.js')
                    .then(function(registration) {
                        console.log('ServiceWorker kayıt başarılı: ', registration.scope);
                    }, function(err) {
                        console.log('ServiceWorker kayıt başarısız: ', err);
                    });
            });
        }
    </script>

    <!-- PWA Install Prompt -->
    <script>
        let deferredPrompt;
        let installButton = null;

        window.addEventListener('beforeinstallprompt', (e) => {
            console.log('PWA install prompt gösterildi');
            e.preventDefault();
            deferredPrompt = e;
            
            // Install butonu göster
            if (!installButton) {
                installButton = document.createElement('button');
                installButton.textContent = '📱 Ana Ekrana Ekle';
                installButton.className = 'btn btn--install';
                installButton.style.position = 'fixed';
                installButton.style.bottom = '20px';
                installButton.style.right = '20px';
                installButton.style.zIndex = '9999';
                document.body.appendChild(installButton);
                
                installButton.addEventListener('click', () => {
                    if (deferredPrompt) {
                        deferredPrompt.prompt();
                        deferredPrompt.userChoice.then((result) => {
                            if (result.outcome === 'accepted') {
                                console.log('PWA install kabul edildi');
                            }
                            deferredPrompt = null;
                            installButton.remove();
                        });
                    }
                });
            }
        });

        window.addEventListener('appinstalled', (evt) => {
            console.log('PWA başarıyla kuruldu!');
            if (installButton) {
                installButton.remove();
            }
        });
    </script>

    <!-- Analytics ve Tracking -->
    <script>
        // Basit analytics
        function trackEvent(action, category = 'Game') {
            console.log(`Analytics: ${category} - ${action}`);
            // Buraya Google Analytics veya başka tracking kodu eklenebilir
        }

        // Oyun eventi tracking'leri
        window.addEventListener('DOMContentLoaded', () => {
            trackEvent('Game Loaded');
        });
    </script>
</body>
</html>
